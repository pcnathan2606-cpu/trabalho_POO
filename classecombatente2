import java.util.Random;

//abstração
public abstract class Combatente{
    protected String nome;
    protected int nivel;
    protected int pv; 
    protected Random random = new Random();

    public Combatente(String nome, int nivel, int pv){
        this.nome = nome;
        this.nivel = nivel;
        this.pv = pv;
    }

    public boolean estaVivo(){
        return this.pv > 0;
    }

    public void receberDano(int dano){
        this.pv -= dano;
        if (this.pv < 0) this.pv = 0;
    }

    public String getNome() {return nome;}
    public int getPv() {return pv;}
    public abstract int calcularAtaque();
}

class Guardiao extends Combatente{
    private int vigor;
    public Guardiao(String nome, int nivel) {
        super(nome, nivel, 150); 
        this.vigor = 50;
    }
    public int calcularAtaque(){
        return 10 + nivel; 
    }
    public void receberDano(int dano) {

        if (vigor >= 10 && random.nextBoolean()) {
            System.out.println(nome + "Ataque bloqueado com escudo!");
            vigor -= 10;
            dano = 0;
        }
        super.receberDano(dano);
    }
}

class Arcanista extends Combatente{
    private int mana;

    public Arcanista(String nome, int nivel){
        super(nome, nivel, 80); 
        this.mana = 100;
    }

    public int calcularAtaque(){
        if (mana >= 20) { 
            mana -= 20;
            return 30 + (nivel * 2);
        }else{ 
            mana += 15;
            return 5;
        }
    }
}
class Cacador extends Combatente{
    public Cacador(String nome, int nivel){
        super(nome, nivel,70); 
    }

    public int calcularAtaque(){
        int dano = 15 + nivel;
    
        if (random.nextInt(100) < 30) { 
            System.out.println("Dano critico de" + nome);
            dano *= 2;
        }
        return dano;
    }
}
